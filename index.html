<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VenmoQR</title>
    <script src="qrcode.min.js"></script>
    <style>
        *:not(h2){
            font-size: 2vh;
        }
    </style>
</head>
<body>
<h2>VenmoQR Demo</h2>
<h3>by Andrei Cozma</h3>
<div id="qrcode"></div>
<p>Recepient:</p>
<input type="text" id="recepient" value="acozma">
<p>Dollar Amt:</p>
<input type="number" id="dollar" value="5">
<p>Memo:</p>
<textarea id="memo" cols="30" rows="10">This is my memo</textarea>
</br>
</br>
<input type="submit" onclick="generate()">

<script type="text/javascript">
    var recepient = document.getElementById("recepient");
    var dollar = document.getElementById("dollar");
    var memo = document.getElementById("memo");

    var QR = new QRCode(document.getElementById("qrcode"), {
        text: "www.andreicozma.com",
        width: 512,
        height: 512
    });mu

    function generate() {

        console.log("Recepient: " + recepient.value)
        console.log("Parsed Dollar: " + dollar.value)
        console.log("Memo: " + memo.value)

        var result = "venmo://paycharge?txn=pay&recipients=" + recepient.value + "&amount=" + dollar.value + "&note=" + memo.value;
        console.log(result)
        QR.makeCode(result);
    }
</script>

</body>
</html>